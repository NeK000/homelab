# Generated by ironicbadger.docker-compose-generator
# badger badger badger mushroom mushrooooom...

services:
  hass-unraid:
    image: ghcr.io/idmedia/hass-unraid:latest
    container_name: hass-unraid
    network_mode: bridge
    pid: host
    deploy:
      resources:
        limits:
          pids: 2048
    environment:
      - TZ=Europe/Paris
      - HOST_OS=Unraid
      - HOST_HOSTNAME=Tower
      - HOST_CONTAINERNAME=hass-unraid
    labels:
      - net.unraid.docker.managed=dockerman
      - net.unraid.docker.icon=https://raw.githubusercontent.com/IDmedia/hass-unraid/main/extras/logo.png
    volumes:
      - "/mnt/user/appdata/hass-unraid:/data:rw"
  duplicati:
    container_name: duplicati
    image: duplicati/duplicati:2.1.1.101
    labels:
      tsdproxy.enable: "true"
      tsdproxy.name: "duplicati"
      tsdproxy.ephemeral: "true"
      net.unraid.docker.managed: dockerman
      net.unraid.docker.webui: http://[IP]:[PORT:8200]
      net.unraid.docker.icon: https://raw.githubusercontent.com/linuxserver/docker-templates/master/linuxserver.io/img/duplicati-logo.png
    environment:
      SETTINGS_ENCRYPTION_KEY: "${DUPLICATI_SETTINGS_ENCRYPTION_KEY}"
      DUPLICATI__WEBSERVICE_PASSWORD: "${DUPLICATI__WEBSERVICE_PASSWORD}"
    volumes:
      - /mnt/user/appdata/duplicati-config:/data
      - /mnt/user/appdata:/mnt
    ports:
      - "8200:8200"
  karakeep:
    image: ghcr.io/karakeep-app/karakeep:release
    restart: unless-stopped
    container_name: karakeep
    labels:
      tsdproxy.enable: "true"
      tsdproxy.name: "karakeep"
      tsdproxy.ephemeral: "true"
      tsdproxy.container_port: "3000"
      net.unraid.docker.managed: dockerman
      net.unraid.docker.webui: http://[IP]:[PORT:3000]
      net.unraid.docker.icon: https://raw.githubusercontent.com/Collectathon/unraid-templates/main/icons/hoarder.png
    volumes:
      # By default, the data is stored in a docker volume called "data".
      # If you want to mount a custom directory, change the volume mapping to:
      # - /path/to/your/directory:/data
      - "/mnt/user/appdata/karakeep/data:/data"
    ports:
      - 3000:3000
    environment:
      MEILI_ADDR: http://meilisearch:7700
      BROWSER_WEB_URL: http://chrome:9222
      NEXTAUTH_SECRET: "ZfwS/0Bpi6UZyY76TXK3C6FC4MlWGPTXNMF/w0tpkwnt40Jz"
      NEXTAUTH_URL: http://localhost:3000
      DATA_DIR: /data # DON'T CHANGE THIS
  chrome:
    image: gcr.io/zenika-hub/alpine-chrome:123
    restart: unless-stopped
    container_name: karakeep_chrome
    labels:
      net.unraid.docker.managed: dockerman
      net.unraid.docker.icon: https://raw.githubusercontent.com/Collectathon/unraid-templates/main/icons/hoarder.png
    command:
      - --no-sandbox
      - --disable-gpu
      - --disable-dev-shm-usage
      - --remote-debugging-address=0.0.0.0
      - --remote-debugging-port=9222
      - --hide-scrollbars
  meilisearch:
    image: getmeili/meilisearch:v1.13.3
    restart: unless-stopped
    container_name: karakeep_meilisearch
    labels:
      net.unraid.docker.managed: dockerman
      net.unraid.docker.icon: https://raw.githubusercontent.com/Collectathon/unraid-templates/main/icons/hoarder.png
    environment:
      MEILI_ADDR: http://meilisearch:7700
      BROWSER_WEB_URL: http://chrome:9222
      MEILI_MASTER_KEY: "cMkGLQ9dAycwHwcSOK7a1jC73RlowKoxCROFd7rnqDNYFBPo"
      MEILI_NO_ANALYTICS: "true"

    volumes:
      - "/mnt/user/appdata/karakeep/meilisearch:/meili_data"

  homepage:
    image: ghcr.io/gethomepage/homepage:latest
    container_name: homepage
    restart: always
    labels:
      tsdproxy.enable: "true"
      tsdproxy.name: "dashboard"
      tsdproxy.ephemeral: "true"
      tsdproxy.container_port: 3003
      net.unraid.docker.managed: dockerman
      net.unraid.docker.webui: http://[IP]:[PORT:3003]
      net.unraid.docker.icon: https://raw.githubusercontent.com/gethomepage/homepage/main/public/android-chrome-512x512.png
    environment:
      PUID: 1000
      PGID: 1000
      HOMEPAGE_ALLOWED_HOSTS: dashboard.panthera-ordinal.ts.net
    ports:
      - 3003:3000
    volumes:
      - "/mnt/user/appdata/homepage:/app/config"

  dozzle:
    image: amir20/dozzle:latest
    container_name: dozzle
    labels:
      tsdproxy.enable: "true"
      tsdproxy.name: "dozzle"
      tsdproxy.ephemeral: "true"
      tsdproxy.container_port: "38080"
      net.unraid.docker.managed: dockerman
      net.unraid.docker.webui: http://[IP]:[PORT:38080]
      net.unraid.docker.icon: https://raw.githubusercontent.com/selfhosters/unRAID-CA-templates/master/templates/img/dozzle.png
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    ports:
      - "38080:8080"
    restart: unless-stopped
  calligra:
    image: lscr.io/linuxserver/calligra:latest
    container_name: calligra
    restart: unless-stopped
    labels:
      tsdproxy.enable: "true"
      tsdproxy.name: "calligra"
      tsdproxy.ephemeral: "true"
      tsdproxy.container_port: "33000"
      net.unraid.docker.managed: dockerman
      net.unraid.docker.webui: http://[IP]:[PORT:33000]
      net.unraid.docker.icon: https://github.com/nicolargo/glances/raw/master/glances/outputs/static/images/glances.png
    security_opt:
      - seccomp:unconfined #optional
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Etc/UTC
    volumes:
      - "/mnt/user/appdata/calligra/config:/config"
    ports:
      - "33000:3000"
